<behaviortree version="1.1" repeatuntil="" name="DemonBehaviour" debugbreak="False"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="root" fail="any" debugbreak="False"><detect sensor="&quot;closeSensor&quot;" repeatuntil="running" name="detect close" matchtype="best" entityobjectvariable="varHeroClose" debugbreak="False" consistent="False" aspectvariable="" aspectobjectvariable="" aspect="&quot;heroAspect&quot;" /><detect sensor="&quot;nearbySensor&quot;" repeatuntil="running" name="detect nearby" matchtype="best" entityobjectvariable="varHeroNearby" debugbreak="False" consistent="False" aspectvariable="" aspectobjectvariable="" aspect="&quot;heroAspect&quot;" /><selector usepriorities="False" repeatuntil="running" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="heroNotFound" debugbreak="False" constraint="varHeroNearby == null &amp;&amp; myHealth&gt;0"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><waypointpatrol waypointsetvariable="PatrolRoute1" waypointactiontype="patrol" traversetype="pingpong" traverseorder="forward" repeatuntil="" pathtargetvariable="" name="patrol" movetargetvariable="nextStop" debugbreak="False"><move turnspeed="" repeatuntil="" name="move-to-waypoint" movetarget="nextStop" movespeed="1" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle="" /></waypointpatrol><animate repeatuntil="" name="animate" debugbreak="False" animationstate="Walking" /></parallel></constraint><constraint repeatuntil="" priority="" name="heroFound" debugbreak="False" constraint="myHealth&gt;0 &amp;&amp; varHeroNearby!=null"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="heroNotClose" debugbreak="False" constraint="varHeroClose == null"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><animate repeatuntil="" name="animate-run" debugbreak="False" animationstate="Running" /><move turnspeed="" repeatuntil="" name="moveToPlayer" movetarget="varHeroNearby" movespeed="2" facetarget="" debugbreak="False" closeenoughdistance="" closeenoughangle="" /></parallel></constraint><constraint repeatuntil="" priority="" name="heroClose" debugbreak="False" constraint="varHeroClose != null"><sequencer usepriorities="False" repeatuntil="" name="parallel" debugbreak="False"><parallel tiebreaker="fail" succeed="all" repeatuntil="" priority="" name="parallel" fail="any" debugbreak="False"><action repeatuntil="" parametervalues="" parameters="" namespace="(global)" name="action" debugbreak="False" classname="EnemyAttackPlayer" /><animate repeatuntil="" name="animate" debugbreak="False" animationstate="Attack" /></parallel><timer waitforsec="0.2" returnvalue="success" priority="" name="timer" debugbreak="False" /></sequencer></constraint></selector></constraint><constraint repeatuntil="" priority="" name="healthZero" debugbreak="False" constraint="myHealth &lt;= 0 "><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><animate repeatuntil="" priority="" name="animate-death" debugbreak="False" animationstate="Death" /><yield priority="" name="yield" debugbreak="False" /><timer waitforsec="2" returnvalue="success" priority="" name="timer" debugbreak="False" /><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="(global)" name="action-destruct" debugbreak="False" classname="EnemyCustomActionTest" /></sequencer></constraint></selector></parallel></behaviortree>